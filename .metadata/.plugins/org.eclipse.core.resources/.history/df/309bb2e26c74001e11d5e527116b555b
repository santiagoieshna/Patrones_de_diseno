package controller;

import java.util.Map;

import model.Habitacion;

public class TableroLaberinto {
	private Laberinto laberinto;

	public TableroLaberinto(Laberinto laberinto) {
		super();
		this.laberinto = laberinto;
	}
	
	public void printLaberintoNumeros() {
		Map<Coordenada,Habitacion> tablero =  laberinto.getMapaLaberinto();
//		System.out.println("Numero de habitaciones: "+ Habitacion.getNumeroDeHabitaciones());
		
		for (int i = getMinimoY()-1 ; i<= getMaximoY()+1; i++) {
			if(i>=0)
				System.out.print(" "+i+" |");
			else
				System.out.print(i+" |");
			for(int j= getMinimoX()-1 ; j<= getMaximoX()+1; j++ ) {
				
				Coordenada coordenada = new Coordenada(i,j);
				if(tablero.containsKey(coordenada)) {
					if(laberinto.getCoordenadFinal().equals(coordenada)) {
						System.err.print(tablero.get(coordenada).getNumeroHabitacion());
					}else {	
						System.out.print(tablero.get(coordenada).getNumeroHabitacion());
					}
				}
				else {
					
					System.out.print(" ");
				}
				
			}
			
			System.out.println();
			if(i==getMaximoX()) {
				for (int j= getMinimoX()-1 ; j<= getMaximoX()+1; j++) {
					System.out.println("_");
					
				}
			}
		}
		
	}
	
	private int getMaximoX() {
		return laberinto.getMapaLaberinto().entrySet().stream()
						.mapToInt(coordenada -> coordenada.getKey().getX())
						.max()
						.getAsInt();
	}
	private int getMinimoX() {
		return laberinto.getMapaLaberinto().entrySet().stream()
				.mapToInt(coordenada -> coordenada.getKey().getX())
				.min()
				.getAsInt();
	}
	private int getMaximoY() {
		return laberinto.getMapaLaberinto().entrySet().stream()
				.mapToInt(coordenada -> coordenada.getKey().getY())
				.max()
				.getAsInt();
	}
	
	private int getMinimoY() {
		return laberinto.getMapaLaberinto().entrySet().stream()
				.mapToInt(coordenada -> coordenada.getKey().getY())
				.min()
				.getAsInt();
	}
	

	
}
